{"ast":null,"code":"// Generated by CoffeeScript 1.7.1\n\n/*\n   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\n\n   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)\n   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)\n */\n\n(function () {\n  var Byte,\n    Client,\n    Frame,\n    Stomp,\n    __hasProp = {}.hasOwnProperty,\n    __slice = [].slice;\n  Byte = {\n    LF: '\\x0A',\n    NULL: '\\x00'\n  };\n  Frame = function () {\n    var unmarshallSingle;\n    function Frame(command, headers, body) {\n      this.command = command;\n      this.headers = headers != null ? headers : {};\n      this.body = body != null ? body : '';\n    }\n    Frame.prototype.toString = function () {\n      var lines, name, value, _ref;\n      lines = [this.command];\n      _ref = this.headers;\n      for (name in _ref) {\n        if (!__hasProp.call(_ref, name)) continue;\n        value = _ref[name];\n        lines.push(\"\" + name + \":\" + value);\n      }\n      if (this.body) {\n        lines.push(\"content-length:\" + Frame.sizeOfUTF8(this.body));\n      }\n      lines.push(Byte.LF + this.body);\n      return lines.join(Byte.LF);\n    };\n    Frame.sizeOfUTF8 = function (s) {\n      if (s) {\n        return encodeURI(s).split(/%..|./).length - 1;\n      } else {\n        return 0;\n      }\n    };\n    unmarshallSingle = function (data) {\n      var body, chr, command, divider, headerLines, headers, i, idx, len, line, start, trim, _i, _j, _len, _ref, _ref1;\n      divider = data.search(RegExp(\"\" + Byte.LF + Byte.LF));\n      headerLines = data.substring(0, divider).split(Byte.LF);\n      command = headerLines.shift();\n      headers = {};\n      trim = function (str) {\n        return str.replace(/^\\s+|\\s+$/g, '');\n      };\n      _ref = headerLines.reverse();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        line = _ref[_i];\n        idx = line.indexOf(':');\n        headers[trim(line.substring(0, idx))] = trim(line.substring(idx + 1));\n      }\n      body = '';\n      start = divider + 2;\n      if (headers['content-length']) {\n        len = parseInt(headers['content-length']);\n        body = ('' + data).substring(start, start + len);\n      } else {\n        chr = null;\n        for (i = _j = start, _ref1 = data.length; start <= _ref1 ? _j < _ref1 : _j > _ref1; i = start <= _ref1 ? ++_j : --_j) {\n          chr = data.charAt(i);\n          if (chr === Byte.NULL) {\n            break;\n          }\n          body += chr;\n        }\n      }\n      return new Frame(command, headers, body);\n    };\n    Frame.unmarshall = function (datas) {\n      var data;\n      return function () {\n        var _i, _len, _ref, _results;\n        _ref = datas.split(RegExp(\"\" + Byte.NULL + Byte.LF + \"*\"));\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          data = _ref[_i];\n          if ((data != null ? data.length : void 0) > 0) {\n            _results.push(unmarshallSingle(data));\n          }\n        }\n        return _results;\n      }();\n    };\n    Frame.marshall = function (command, headers, body) {\n      var frame;\n      frame = new Frame(command, headers, body);\n      return frame.toString() + Byte.NULL;\n    };\n    return Frame;\n  }();\n  Client = function () {\n    var now;\n    function Client(ws) {\n      this.ws = ws;\n      this.ws.binaryType = \"arraybuffer\";\n      this.counter = 0;\n      this.connected = false;\n      this.heartbeat = {\n        outgoing: 10000,\n        incoming: 10000\n      };\n      this.maxWebSocketFrameSize = 16 * 1024;\n      this.subscriptions = {};\n    }\n    Client.prototype.debug = function (message) {\n      var _ref;\n      return typeof window !== \"undefined\" && window !== null ? (_ref = window.console) != null ? _ref.log(message) : void 0 : void 0;\n    };\n    now = function () {\n      return Date.now || new Date().valueOf;\n    };\n    Client.prototype._transmit = function (command, headers, body) {\n      var out;\n      out = Frame.marshall(command, headers, body);\n      if (typeof this.debug === \"function\") {\n        this.debug(\">>> \" + out);\n      }\n      while (true) {\n        if (out.length > this.maxWebSocketFrameSize) {\n          this.ws.send(out.substring(0, this.maxWebSocketFrameSize));\n          out = out.substring(this.maxWebSocketFrameSize);\n          if (typeof this.debug === \"function\") {\n            this.debug(\"remaining = \" + out.length);\n          }\n        } else {\n          return this.ws.send(out);\n        }\n      }\n    };\n    Client.prototype._setupHeartbeat = function (headers) {\n      var serverIncoming, serverOutgoing, ttl, v, _ref, _ref1;\n      if ((_ref = headers.version) !== Stomp.VERSIONS.V1_1 && _ref !== Stomp.VERSIONS.V1_2) {\n        return;\n      }\n      _ref1 = function () {\n        var _i, _len, _ref1, _results;\n        _ref1 = headers['heart-beat'].split(\",\");\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          v = _ref1[_i];\n          _results.push(parseInt(v));\n        }\n        return _results;\n      }(), serverOutgoing = _ref1[0], serverIncoming = _ref1[1];\n      if (!(this.heartbeat.outgoing === 0 || serverIncoming === 0)) {\n        ttl = Math.max(this.heartbeat.outgoing, serverIncoming);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"send PING every \" + ttl + \"ms\");\n        }\n        this.pinger = Stomp.setInterval(ttl, function (_this) {\n          return function () {\n            _this.ws.send(Byte.LF);\n            return typeof _this.debug === \"function\" ? _this.debug(\">>> PING\") : void 0;\n          };\n        }(this));\n      }\n      if (!(this.heartbeat.incoming === 0 || serverOutgoing === 0)) {\n        ttl = Math.max(this.heartbeat.incoming, serverOutgoing);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"check PONG every \" + ttl + \"ms\");\n        }\n        return this.ponger = Stomp.setInterval(ttl, function (_this) {\n          return function () {\n            var delta;\n            delta = now() - _this.serverActivity;\n            if (delta > ttl * 2) {\n              if (typeof _this.debug === \"function\") {\n                _this.debug(\"did not receive server activity for the last \" + delta + \"ms\");\n              }\n              return _this.ws.close();\n            }\n          };\n        }(this));\n      }\n    };\n    Client.prototype._parseConnect = function () {\n      var args, connectCallback, errorCallback, headers;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      headers = {};\n      switch (args.length) {\n        case 2:\n          headers = args[0], connectCallback = args[1];\n          break;\n        case 3:\n          if (args[1] instanceof Function) {\n            headers = args[0], connectCallback = args[1], errorCallback = args[2];\n          } else {\n            headers.login = args[0], headers.passcode = args[1], connectCallback = args[2];\n          }\n          break;\n        case 4:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3];\n          break;\n        default:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3], headers.host = args[4];\n      }\n      return [headers, connectCallback, errorCallback];\n    };\n    Client.prototype.connect = function () {\n      var args, errorCallback, headers, out;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      out = this._parseConnect.apply(this, args);\n      headers = out[0], this.connectCallback = out[1], errorCallback = out[2];\n      if (typeof this.debug === \"function\") {\n        this.debug(\"Opening Web Socket...\");\n      }\n      this.ws.onmessage = function (_this) {\n        return function (evt) {\n          var arr, c, client, data, frame, messageID, onreceive, subscription, _i, _len, _ref, _results;\n          data = typeof ArrayBuffer !== 'undefined' && evt.data instanceof ArrayBuffer ? (arr = new Uint8Array(evt.data), typeof _this.debug === \"function\" ? _this.debug(\"--- got data length: \" + arr.length) : void 0, function () {\n            var _i, _len, _results;\n            _results = [];\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\n              c = arr[_i];\n              _results.push(String.fromCharCode(c));\n            }\n            return _results;\n          }().join('')) : evt.data;\n          _this.serverActivity = now();\n          if (data === Byte.LF) {\n            if (typeof _this.debug === \"function\") {\n              _this.debug(\"<<< PONG\");\n            }\n            return;\n          }\n          if (typeof _this.debug === \"function\") {\n            _this.debug(\"<<< \" + data);\n          }\n          _ref = Frame.unmarshall(data);\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            frame = _ref[_i];\n            switch (frame.command) {\n              case \"CONNECTED\":\n                if (typeof _this.debug === \"function\") {\n                  _this.debug(\"connected to server \" + frame.headers.server);\n                }\n                _this.connected = true;\n                _this._setupHeartbeat(frame.headers);\n                _results.push(typeof _this.connectCallback === \"function\" ? _this.connectCallback(frame) : void 0);\n                break;\n              case \"MESSAGE\":\n                subscription = frame.headers.subscription;\n                onreceive = _this.subscriptions[subscription] || _this.onreceive;\n                if (onreceive) {\n                  client = _this;\n                  messageID = frame.headers[\"message-id\"];\n                  frame.ack = function (headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.ack(messageID, subscription, headers);\n                  };\n                  frame.nack = function (headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.nack(messageID, subscription, headers);\n                  };\n                  _results.push(onreceive(frame));\n                } else {\n                  _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled received MESSAGE: \" + frame) : void 0);\n                }\n                break;\n              case \"RECEIPT\":\n                _results.push(typeof _this.onreceipt === \"function\" ? _this.onreceipt(frame) : void 0);\n                break;\n              case \"ERROR\":\n                _results.push(typeof errorCallback === \"function\" ? errorCallback(frame) : void 0);\n                break;\n              default:\n                _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled frame: \" + frame) : void 0);\n            }\n          }\n          return _results;\n        };\n      }(this);\n      this.ws.onclose = function (_this) {\n        return function () {\n          var msg;\n          msg = \"Whoops! Lost connection to \" + _this.ws.url;\n          if (typeof _this.debug === \"function\") {\n            _this.debug(msg);\n          }\n          _this._cleanUp();\n          return typeof errorCallback === \"function\" ? errorCallback(msg) : void 0;\n        };\n      }(this);\n      return this.ws.onopen = function (_this) {\n        return function () {\n          if (typeof _this.debug === \"function\") {\n            _this.debug('Web Socket Opened...');\n          }\n          headers[\"accept-version\"] = Stomp.VERSIONS.supportedVersions();\n          headers[\"heart-beat\"] = [_this.heartbeat.outgoing, _this.heartbeat.incoming].join(',');\n          return _this._transmit(\"CONNECT\", headers);\n        };\n      }(this);\n    };\n    Client.prototype.disconnect = function (disconnectCallback) {\n      this._transmit(\"DISCONNECT\");\n      this.ws.onclose = null;\n      this.ws.close();\n      this._cleanUp();\n      return typeof disconnectCallback === \"function\" ? disconnectCallback() : void 0;\n    };\n    Client.prototype._cleanUp = function () {\n      this.connected = false;\n      if (this.pinger) {\n        Stomp.clearInterval(this.pinger);\n      }\n      if (this.ponger) {\n        return Stomp.clearInterval(this.ponger);\n      }\n    };\n    Client.prototype.send = function (destination, headers, body) {\n      if (headers == null) {\n        headers = {};\n      }\n      if (body == null) {\n        body = '';\n      }\n      headers.destination = destination;\n      return this._transmit(\"SEND\", headers, body);\n    };\n    Client.prototype.subscribe = function (destination, callback, headers) {\n      var client;\n      if (headers == null) {\n        headers = {};\n      }\n      if (!headers.id) {\n        headers.id = \"sub-\" + this.counter++;\n      }\n      headers.destination = destination;\n      this.subscriptions[headers.id] = callback;\n      this._transmit(\"SUBSCRIBE\", headers);\n      client = this;\n      return {\n        id: headers.id,\n        unsubscribe: function () {\n          return client.unsubscribe(headers.id);\n        }\n      };\n    };\n    Client.prototype.unsubscribe = function (id) {\n      delete this.subscriptions[id];\n      return this._transmit(\"UNSUBSCRIBE\", {\n        id: id\n      });\n    };\n    Client.prototype.begin = function (transaction) {\n      var client, txid;\n      txid = transaction || \"tx-\" + this.counter++;\n      this._transmit(\"BEGIN\", {\n        transaction: txid\n      });\n      client = this;\n      return {\n        id: txid,\n        commit: function () {\n          return client.commit(txid);\n        },\n        abort: function () {\n          return client.abort(txid);\n        }\n      };\n    };\n    Client.prototype.commit = function (transaction) {\n      return this._transmit(\"COMMIT\", {\n        transaction: transaction\n      });\n    };\n    Client.prototype.abort = function (transaction) {\n      return this._transmit(\"ABORT\", {\n        transaction: transaction\n      });\n    };\n    Client.prototype.ack = function (messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"ACK\", headers);\n    };\n    Client.prototype.nack = function (messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"NACK\", headers);\n    };\n    return Client;\n  }();\n  Stomp = {\n    VERSIONS: {\n      V1_0: '1.0',\n      V1_1: '1.1',\n      V1_2: '1.2',\n      supportedVersions: function () {\n        return '1.1,1.0';\n      }\n    },\n    client: function (url, protocols) {\n      var klass, ws;\n      if (protocols == null) {\n        protocols = ['v10.stomp', 'v11.stomp'];\n      }\n      klass = Stomp.WebSocketClass || WebSocket;\n      ws = new klass(url, protocols);\n      return new Client(ws);\n    },\n    over: function (ws) {\n      return new Client(ws);\n    },\n    Frame: Frame\n  };\n  if (typeof window !== \"undefined\" && window !== null) {\n    Stomp.setInterval = function (interval, f) {\n      return window.setInterval(f, interval);\n    };\n    Stomp.clearInterval = function (id) {\n      return window.clearInterval(id);\n    };\n    window.Stomp = Stomp;\n  } else if (typeof exports !== \"undefined\" && exports !== null) {\n    exports.Stomp = Stomp;\n  } else {\n    self.Stomp = Stomp;\n  }\n}).call(this);","map":{"version":3,"names":["Byte","Client","Frame","Stomp","__hasProp","hasOwnProperty","__slice","slice","LF","NULL","unmarshallSingle","command","headers","body","prototype","toString","lines","name","value","_ref","call","push","sizeOfUTF8","join","s","encodeURI","split","length","data","chr","divider","headerLines","i","idx","len","line","start","trim","_i","_j","_len","_ref1","search","RegExp","substring","shift","str","replace","reverse","indexOf","parseInt","charAt","unmarshall","datas","_results","marshall","frame","now","ws","binaryType","counter","connected","heartbeat","outgoing","incoming","maxWebSocketFrameSize","subscriptions","debug","message","window","console","log","Date","valueOf","_transmit","out","send","_setupHeartbeat","serverIncoming","serverOutgoing","ttl","v","version","VERSIONS","V1_1","V1_2","Math","max","pinger","setInterval","_this","ponger","delta","serverActivity","close","_parseConnect","args","connectCallback","errorCallback","arguments","Function","login","passcode","host","connect","apply","onmessage","evt","arr","c","client","messageID","onreceive","subscription","ArrayBuffer","Uint8Array","String","fromCharCode","server","ack","nack","onreceipt","onclose","msg","url","_cleanUp","onopen","supportedVersions","disconnect","disconnectCallback","clearInterval","destination","subscribe","callback","id","unsubscribe","begin","transaction","txid","commit","abort","V1_0","protocols","klass","WebSocketClass","WebSocket","over","interval","f","exports","self"],"sources":["C:/Users/elain/1112/IUA2/my-app/src/stomp.js"],"sourcesContent":["// Generated by CoffeeScript 1.7.1\n\n/*\n   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\n\n   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)\n   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)\n */\n\n(function() {\n  var Byte, Client, Frame, Stomp,\n    __hasProp = {}.hasOwnProperty,\n    __slice = [].slice;\n\n  Byte = {\n    LF: '\\x0A',\n    NULL: '\\x00'\n  };\n\n  Frame = (function() {\n    var unmarshallSingle;\n\n    function Frame(command, headers, body) {\n      this.command = command;\n      this.headers = headers != null ? headers : {};\n      this.body = body != null ? body : '';\n    }\n\n    Frame.prototype.toString = function() {\n      var lines, name, value, _ref;\n      lines = [this.command];\n      _ref = this.headers;\n      for (name in _ref) {\n        if (!__hasProp.call(_ref, name)) continue;\n        value = _ref[name];\n        lines.push(\"\" + name + \":\" + value);\n      }\n      if (this.body) {\n        lines.push(\"content-length:\" + (Frame.sizeOfUTF8(this.body)));\n      }\n      lines.push(Byte.LF + this.body);\n      return lines.join(Byte.LF);\n    };\n\n    Frame.sizeOfUTF8 = function(s) {\n      if (s) {\n        return encodeURI(s).split(/%..|./).length - 1;\n      } else {\n        return 0;\n      }\n    };\n\n    unmarshallSingle = function(data) {\n      var body, chr, command, divider, headerLines, headers, i, idx, len, line, start, trim, _i, _j, _len, _ref, _ref1;\n      divider = data.search(RegExp(\"\" + Byte.LF + Byte.LF));\n      headerLines = data.substring(0, divider).split(Byte.LF);\n      command = headerLines.shift();\n      headers = {};\n      trim = function(str) {\n        return str.replace(/^\\s+|\\s+$/g, '');\n      };\n      _ref = headerLines.reverse();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        line = _ref[_i];\n        idx = line.indexOf(':');\n        headers[trim(line.substring(0, idx))] = trim(line.substring(idx + 1));\n      }\n      body = '';\n      start = divider + 2;\n      if (headers['content-length']) {\n        len = parseInt(headers['content-length']);\n        body = ('' + data).substring(start, start + len);\n      } else {\n        chr = null;\n        for (i = _j = start, _ref1 = data.length; start <= _ref1 ? _j < _ref1 : _j > _ref1; i = start <= _ref1 ? ++_j : --_j) {\n          chr = data.charAt(i);\n          if (chr === Byte.NULL) {\n            break;\n          }\n          body += chr;\n        }\n      }\n      return new Frame(command, headers, body);\n    };\n\n    Frame.unmarshall = function(datas) {\n      var data;\n      return (function() {\n        var _i, _len, _ref, _results;\n        _ref = datas.split(RegExp(\"\" + Byte.NULL + Byte.LF + \"*\"));\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          data = _ref[_i];\n          if ((data != null ? data.length : void 0) > 0) {\n            _results.push(unmarshallSingle(data));\n          }\n        }\n        return _results;\n      })();\n    };\n\n    Frame.marshall = function(command, headers, body) {\n      var frame;\n      frame = new Frame(command, headers, body);\n      return frame.toString() + Byte.NULL;\n    };\n\n    return Frame;\n\n  })();\n\n  Client = (function() {\n    var now;\n\n    function Client(ws) {\n      this.ws = ws;\n      this.ws.binaryType = \"arraybuffer\";\n      this.counter = 0;\n      this.connected = false;\n      this.heartbeat = {\n        outgoing: 10000,\n        incoming: 10000\n      };\n      this.maxWebSocketFrameSize = 16 * 1024;\n      this.subscriptions = {};\n    }\n\n    Client.prototype.debug = function(message) {\n      var _ref;\n      return typeof window !== \"undefined\" && window !== null ? (_ref = window.console) != null ? _ref.log(message) : void 0 : void 0;\n    };\n\n    now = function() {\n      return Date.now || new Date().valueOf;\n    };\n\n    Client.prototype._transmit = function(command, headers, body) {\n      var out;\n      out = Frame.marshall(command, headers, body);\n      if (typeof this.debug === \"function\") {\n        this.debug(\">>> \" + out);\n      }\n      while (true) {\n        if (out.length > this.maxWebSocketFrameSize) {\n          this.ws.send(out.substring(0, this.maxWebSocketFrameSize));\n          out = out.substring(this.maxWebSocketFrameSize);\n          if (typeof this.debug === \"function\") {\n            this.debug(\"remaining = \" + out.length);\n          }\n        } else {\n          return this.ws.send(out);\n        }\n      }\n    };\n\n    Client.prototype._setupHeartbeat = function(headers) {\n      var serverIncoming, serverOutgoing, ttl, v, _ref, _ref1;\n      if ((_ref = headers.version) !== Stomp.VERSIONS.V1_1 && _ref !== Stomp.VERSIONS.V1_2) {\n        return;\n      }\n      _ref1 = (function() {\n        var _i, _len, _ref1, _results;\n        _ref1 = headers['heart-beat'].split(\",\");\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          v = _ref1[_i];\n          _results.push(parseInt(v));\n        }\n        return _results;\n      })(), serverOutgoing = _ref1[0], serverIncoming = _ref1[1];\n      if (!(this.heartbeat.outgoing === 0 || serverIncoming === 0)) {\n        ttl = Math.max(this.heartbeat.outgoing, serverIncoming);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"send PING every \" + ttl + \"ms\");\n        }\n        this.pinger = Stomp.setInterval(ttl, (function(_this) {\n          return function() {\n            _this.ws.send(Byte.LF);\n            return typeof _this.debug === \"function\" ? _this.debug(\">>> PING\") : void 0;\n          };\n        })(this));\n      }\n      if (!(this.heartbeat.incoming === 0 || serverOutgoing === 0)) {\n        ttl = Math.max(this.heartbeat.incoming, serverOutgoing);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"check PONG every \" + ttl + \"ms\");\n        }\n        return this.ponger = Stomp.setInterval(ttl, (function(_this) {\n          return function() {\n            var delta;\n            delta = now() - _this.serverActivity;\n            if (delta > ttl * 2) {\n              if (typeof _this.debug === \"function\") {\n                _this.debug(\"did not receive server activity for the last \" + delta + \"ms\");\n              }\n              return _this.ws.close();\n            }\n          };\n        })(this));\n      }\n    };\n\n    Client.prototype._parseConnect = function() {\n      var args, connectCallback, errorCallback, headers;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      headers = {};\n      switch (args.length) {\n        case 2:\n          headers = args[0], connectCallback = args[1];\n          break;\n        case 3:\n          if (args[1] instanceof Function) {\n            headers = args[0], connectCallback = args[1], errorCallback = args[2];\n          } else {\n            headers.login = args[0], headers.passcode = args[1], connectCallback = args[2];\n          }\n          break;\n        case 4:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3];\n          break;\n        default:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3], headers.host = args[4];\n      }\n      return [headers, connectCallback, errorCallback];\n    };\n\n    Client.prototype.connect = function() {\n      var args, errorCallback, headers, out;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      out = this._parseConnect.apply(this, args);\n      headers = out[0], this.connectCallback = out[1], errorCallback = out[2];\n      if (typeof this.debug === \"function\") {\n        this.debug(\"Opening Web Socket...\");\n      }\n      this.ws.onmessage = (function(_this) {\n        return function(evt) {\n          var arr, c, client, data, frame, messageID, onreceive, subscription, _i, _len, _ref, _results;\n          data = typeof ArrayBuffer !== 'undefined' && evt.data instanceof ArrayBuffer ? (arr = new Uint8Array(evt.data), typeof _this.debug === \"function\" ? _this.debug(\"--- got data length: \" + arr.length) : void 0, ((function() {\n            var _i, _len, _results;\n            _results = [];\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\n              c = arr[_i];\n              _results.push(String.fromCharCode(c));\n            }\n            return _results;\n          })()).join('')) : evt.data;\n          _this.serverActivity = now();\n          if (data === Byte.LF) {\n            if (typeof _this.debug === \"function\") {\n              _this.debug(\"<<< PONG\");\n            }\n            return;\n          }\n          if (typeof _this.debug === \"function\") {\n            _this.debug(\"<<< \" + data);\n          }\n          _ref = Frame.unmarshall(data);\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            frame = _ref[_i];\n            switch (frame.command) {\n              case \"CONNECTED\":\n                if (typeof _this.debug === \"function\") {\n                  _this.debug(\"connected to server \" + frame.headers.server);\n                }\n                _this.connected = true;\n                _this._setupHeartbeat(frame.headers);\n                _results.push(typeof _this.connectCallback === \"function\" ? _this.connectCallback(frame) : void 0);\n                break;\n              case \"MESSAGE\":\n                subscription = frame.headers.subscription;\n                onreceive = _this.subscriptions[subscription] || _this.onreceive;\n                if (onreceive) {\n                  client = _this;\n                  messageID = frame.headers[\"message-id\"];\n                  frame.ack = function(headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.ack(messageID, subscription, headers);\n                  };\n                  frame.nack = function(headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.nack(messageID, subscription, headers);\n                  };\n                  _results.push(onreceive(frame));\n                } else {\n                  _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled received MESSAGE: \" + frame) : void 0);\n                }\n                break;\n              case \"RECEIPT\":\n                _results.push(typeof _this.onreceipt === \"function\" ? _this.onreceipt(frame) : void 0);\n                break;\n              case \"ERROR\":\n                _results.push(typeof errorCallback === \"function\" ? errorCallback(frame) : void 0);\n                break;\n              default:\n                _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled frame: \" + frame) : void 0);\n            }\n          }\n          return _results;\n        };\n      })(this);\n      this.ws.onclose = (function(_this) {\n        return function() {\n          var msg;\n          msg = \"Whoops! Lost connection to \" + _this.ws.url;\n          if (typeof _this.debug === \"function\") {\n            _this.debug(msg);\n          }\n          _this._cleanUp();\n          return typeof errorCallback === \"function\" ? errorCallback(msg) : void 0;\n        };\n      })(this);\n      return this.ws.onopen = (function(_this) {\n        return function() {\n          if (typeof _this.debug === \"function\") {\n            _this.debug('Web Socket Opened...');\n          }\n          headers[\"accept-version\"] = Stomp.VERSIONS.supportedVersions();\n          headers[\"heart-beat\"] = [_this.heartbeat.outgoing, _this.heartbeat.incoming].join(',');\n          return _this._transmit(\"CONNECT\", headers);\n        };\n      })(this);\n    };\n\n    Client.prototype.disconnect = function(disconnectCallback) {\n      this._transmit(\"DISCONNECT\");\n      this.ws.onclose = null;\n      this.ws.close();\n      this._cleanUp();\n      return typeof disconnectCallback === \"function\" ? disconnectCallback() : void 0;\n    };\n\n    Client.prototype._cleanUp = function() {\n      this.connected = false;\n      if (this.pinger) {\n        Stomp.clearInterval(this.pinger);\n      }\n      if (this.ponger) {\n        return Stomp.clearInterval(this.ponger);\n      }\n    };\n\n    Client.prototype.send = function(destination, headers, body) {\n      if (headers == null) {\n        headers = {};\n      }\n      if (body == null) {\n        body = '';\n      }\n      headers.destination = destination;\n      return this._transmit(\"SEND\", headers, body);\n    };\n\n    Client.prototype.subscribe = function(destination, callback, headers) {\n      var client;\n      if (headers == null) {\n        headers = {};\n      }\n      if (!headers.id) {\n        headers.id = \"sub-\" + this.counter++;\n      }\n      headers.destination = destination;\n      this.subscriptions[headers.id] = callback;\n      this._transmit(\"SUBSCRIBE\", headers);\n      client = this;\n      return {\n        id: headers.id,\n        unsubscribe: function() {\n          return client.unsubscribe(headers.id);\n        }\n      };\n    };\n\n    Client.prototype.unsubscribe = function(id) {\n      delete this.subscriptions[id];\n      return this._transmit(\"UNSUBSCRIBE\", {\n        id: id\n      });\n    };\n\n    Client.prototype.begin = function(transaction) {\n      var client, txid;\n      txid = transaction || \"tx-\" + this.counter++;\n      this._transmit(\"BEGIN\", {\n        transaction: txid\n      });\n      client = this;\n      return {\n        id: txid,\n        commit: function() {\n          return client.commit(txid);\n        },\n        abort: function() {\n          return client.abort(txid);\n        }\n      };\n    };\n\n    Client.prototype.commit = function(transaction) {\n      return this._transmit(\"COMMIT\", {\n        transaction: transaction\n      });\n    };\n\n    Client.prototype.abort = function(transaction) {\n      return this._transmit(\"ABORT\", {\n        transaction: transaction\n      });\n    };\n\n    Client.prototype.ack = function(messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"ACK\", headers);\n    };\n\n    Client.prototype.nack = function(messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"NACK\", headers);\n    };\n\n    return Client;\n\n  })();\n\n  Stomp = {\n    VERSIONS: {\n      V1_0: '1.0',\n      V1_1: '1.1',\n      V1_2: '1.2',\n      supportedVersions: function() {\n        return '1.1,1.0';\n      }\n    },\n    client: function(url, protocols) {\n      var klass, ws;\n      if (protocols == null) {\n        protocols = ['v10.stomp', 'v11.stomp'];\n      }\n      klass = Stomp.WebSocketClass || WebSocket;\n      ws = new klass(url, protocols);\n      return new Client(ws);\n    },\n    over: function(ws) {\n      return new Client(ws);\n    },\n    Frame: Frame\n  };\n\n  if (typeof window !== \"undefined\" && window !== null) {\n    Stomp.setInterval = function(interval, f) {\n      return window.setInterval(f, interval);\n    };\n    Stomp.clearInterval = function(id) {\n      return window.clearInterval(id);\n    };\n    window.Stomp = Stomp;\n  } else if (typeof exports !== \"undefined\" && exports !== null) {\n    exports.Stomp = Stomp;\n  } else {\n    self.Stomp = Stomp;\n  }\n\n}).call(this);\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,YAAW;EACV,IAAIA,IAAI;IAAEC,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAC5BC,SAAS,GAAG,CAAC,CAAC,CAACC,cAAc;IAC7BC,OAAO,GAAG,EAAE,CAACC,KAAK;EAEpBP,IAAI,GAAG;IACLQ,EAAE,EAAE,MAAM;IACVC,IAAI,EAAE;EACR,CAAC;EAEDP,KAAK,GAAI,YAAW;IAClB,IAAIQ,gBAAgB;IAEpB,SAASR,KAAKA,CAACS,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAE;MACrC,IAAI,CAACF,OAAO,GAAGA,OAAO;MACtB,IAAI,CAACC,OAAO,GAAGA,OAAO,IAAI,IAAI,GAAGA,OAAO,GAAG,CAAC,CAAC;MAC7C,IAAI,CAACC,IAAI,GAAGA,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,EAAE;IACtC;IAEAX,KAAK,CAACY,SAAS,CAACC,QAAQ,GAAG,YAAW;MACpC,IAAIC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEC,IAAI;MAC5BH,KAAK,GAAG,CAAC,IAAI,CAACL,OAAO,CAAC;MACtBQ,IAAI,GAAG,IAAI,CAACP,OAAO;MACnB,KAAKK,IAAI,IAAIE,IAAI,EAAE;QACjB,IAAI,CAACf,SAAS,CAACgB,IAAI,CAACD,IAAI,EAAEF,IAAI,CAAC,EAAE;QACjCC,KAAK,GAAGC,IAAI,CAACF,IAAI,CAAC;QAClBD,KAAK,CAACK,IAAI,CAAC,EAAE,GAAGJ,IAAI,GAAG,GAAG,GAAGC,KAAK,CAAC;MACrC;MACA,IAAI,IAAI,CAACL,IAAI,EAAE;QACbG,KAAK,CAACK,IAAI,CAAC,iBAAiB,GAAInB,KAAK,CAACoB,UAAU,CAAC,IAAI,CAACT,IAAI,CAAE,CAAC;MAC/D;MACAG,KAAK,CAACK,IAAI,CAACrB,IAAI,CAACQ,EAAE,GAAG,IAAI,CAACK,IAAI,CAAC;MAC/B,OAAOG,KAAK,CAACO,IAAI,CAACvB,IAAI,CAACQ,EAAE,CAAC;IAC5B,CAAC;IAEDN,KAAK,CAACoB,UAAU,GAAG,UAASE,CAAC,EAAE;MAC7B,IAAIA,CAAC,EAAE;QACL,OAAOC,SAAS,CAACD,CAAC,CAAC,CAACE,KAAK,CAAC,OAAO,CAAC,CAACC,MAAM,GAAG,CAAC;MAC/C,CAAC,MAAM;QACL,OAAO,CAAC;MACV;IACF,CAAC;IAEDjB,gBAAgB,GAAG,SAAAA,CAASkB,IAAI,EAAE;MAChC,IAAIf,IAAI,EAAEgB,GAAG,EAAElB,OAAO,EAAEmB,OAAO,EAAEC,WAAW,EAAEnB,OAAO,EAAEoB,CAAC,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,EAAE,EAAEC,EAAE,EAAEC,IAAI,EAAErB,IAAI,EAAEsB,KAAK;MAChHX,OAAO,GAAGF,IAAI,CAACc,MAAM,CAACC,MAAM,CAAC,EAAE,GAAG3C,IAAI,CAACQ,EAAE,GAAGR,IAAI,CAACQ,EAAE,CAAC,CAAC;MACrDuB,WAAW,GAAGH,IAAI,CAACgB,SAAS,CAAC,CAAC,EAAEd,OAAO,CAAC,CAACJ,KAAK,CAAC1B,IAAI,CAACQ,EAAE,CAAC;MACvDG,OAAO,GAAGoB,WAAW,CAACc,KAAK,CAAC,CAAC;MAC7BjC,OAAO,GAAG,CAAC,CAAC;MACZyB,IAAI,GAAG,SAAAA,CAASS,GAAG,EAAE;QACnB,OAAOA,GAAG,CAACC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;MACtC,CAAC;MACD5B,IAAI,GAAGY,WAAW,CAACiB,OAAO,CAAC,CAAC;MAC5B,KAAKV,EAAE,GAAG,CAAC,EAAEE,IAAI,GAAGrB,IAAI,CAACQ,MAAM,EAAEW,EAAE,GAAGE,IAAI,EAAEF,EAAE,EAAE,EAAE;QAChDH,IAAI,GAAGhB,IAAI,CAACmB,EAAE,CAAC;QACfL,GAAG,GAAGE,IAAI,CAACc,OAAO,CAAC,GAAG,CAAC;QACvBrC,OAAO,CAACyB,IAAI,CAACF,IAAI,CAACS,SAAS,CAAC,CAAC,EAAEX,GAAG,CAAC,CAAC,CAAC,GAAGI,IAAI,CAACF,IAAI,CAACS,SAAS,CAACX,GAAG,GAAG,CAAC,CAAC,CAAC;MACvE;MACApB,IAAI,GAAG,EAAE;MACTuB,KAAK,GAAGN,OAAO,GAAG,CAAC;MACnB,IAAIlB,OAAO,CAAC,gBAAgB,CAAC,EAAE;QAC7BsB,GAAG,GAAGgB,QAAQ,CAACtC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QACzCC,IAAI,GAAG,CAAC,EAAE,GAAGe,IAAI,EAAEgB,SAAS,CAACR,KAAK,EAAEA,KAAK,GAAGF,GAAG,CAAC;MAClD,CAAC,MAAM;QACLL,GAAG,GAAG,IAAI;QACV,KAAKG,CAAC,GAAGO,EAAE,GAAGH,KAAK,EAAEK,KAAK,GAAGb,IAAI,CAACD,MAAM,EAAES,KAAK,IAAIK,KAAK,GAAGF,EAAE,GAAGE,KAAK,GAAGF,EAAE,GAAGE,KAAK,EAAET,CAAC,GAAGI,KAAK,IAAIK,KAAK,GAAG,EAAEF,EAAE,GAAG,EAAEA,EAAE,EAAE;UACpHV,GAAG,GAAGD,IAAI,CAACuB,MAAM,CAACnB,CAAC,CAAC;UACpB,IAAIH,GAAG,KAAK7B,IAAI,CAACS,IAAI,EAAE;YACrB;UACF;UACAI,IAAI,IAAIgB,GAAG;QACb;MACF;MACA,OAAO,IAAI3B,KAAK,CAACS,OAAO,EAAEC,OAAO,EAAEC,IAAI,CAAC;IAC1C,CAAC;IAEDX,KAAK,CAACkD,UAAU,GAAG,UAASC,KAAK,EAAE;MACjC,IAAIzB,IAAI;MACR,OAAQ,YAAW;QACjB,IAAIU,EAAE,EAAEE,IAAI,EAAErB,IAAI,EAAEmC,QAAQ;QAC5BnC,IAAI,GAAGkC,KAAK,CAAC3B,KAAK,CAACiB,MAAM,CAAC,EAAE,GAAG3C,IAAI,CAACS,IAAI,GAAGT,IAAI,CAACQ,EAAE,GAAG,GAAG,CAAC,CAAC;QAC1D8C,QAAQ,GAAG,EAAE;QACb,KAAKhB,EAAE,GAAG,CAAC,EAAEE,IAAI,GAAGrB,IAAI,CAACQ,MAAM,EAAEW,EAAE,GAAGE,IAAI,EAAEF,EAAE,EAAE,EAAE;UAChDV,IAAI,GAAGT,IAAI,CAACmB,EAAE,CAAC;UACf,IAAI,CAACV,IAAI,IAAI,IAAI,GAAGA,IAAI,CAACD,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAC7C2B,QAAQ,CAACjC,IAAI,CAACX,gBAAgB,CAACkB,IAAI,CAAC,CAAC;UACvC;QACF;QACA,OAAO0B,QAAQ;MACjB,CAAC,CAAE,CAAC;IACN,CAAC;IAEDpD,KAAK,CAACqD,QAAQ,GAAG,UAAS5C,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAE;MAChD,IAAI2C,KAAK;MACTA,KAAK,GAAG,IAAItD,KAAK,CAACS,OAAO,EAAEC,OAAO,EAAEC,IAAI,CAAC;MACzC,OAAO2C,KAAK,CAACzC,QAAQ,CAAC,CAAC,GAAGf,IAAI,CAACS,IAAI;IACrC,CAAC;IAED,OAAOP,KAAK;EAEd,CAAC,CAAE,CAAC;EAEJD,MAAM,GAAI,YAAW;IACnB,IAAIwD,GAAG;IAEP,SAASxD,MAAMA,CAACyD,EAAE,EAAE;MAClB,IAAI,CAACA,EAAE,GAAGA,EAAE;MACZ,IAAI,CAACA,EAAE,CAACC,UAAU,GAAG,aAAa;MAClC,IAAI,CAACC,OAAO,GAAG,CAAC;MAChB,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB,IAAI,CAACC,SAAS,GAAG;QACfC,QAAQ,EAAE,KAAK;QACfC,QAAQ,EAAE;MACZ,CAAC;MACD,IAAI,CAACC,qBAAqB,GAAG,EAAE,GAAG,IAAI;MACtC,IAAI,CAACC,aAAa,GAAG,CAAC,CAAC;IACzB;IAEAjE,MAAM,CAACa,SAAS,CAACqD,KAAK,GAAG,UAASC,OAAO,EAAE;MACzC,IAAIjD,IAAI;MACR,OAAO,OAAOkD,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,IAAI,GAAG,CAAClD,IAAI,GAAGkD,MAAM,CAACC,OAAO,KAAK,IAAI,GAAGnD,IAAI,CAACoD,GAAG,CAACH,OAAO,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;IACjI,CAAC;IAEDX,GAAG,GAAG,SAAAA,CAAA,EAAW;MACf,OAAOe,IAAI,CAACf,GAAG,IAAI,IAAIe,IAAI,CAAC,CAAC,CAACC,OAAO;IACvC,CAAC;IAEDxE,MAAM,CAACa,SAAS,CAAC4D,SAAS,GAAG,UAAS/D,OAAO,EAAEC,OAAO,EAAEC,IAAI,EAAE;MAC5D,IAAI8D,GAAG;MACPA,GAAG,GAAGzE,KAAK,CAACqD,QAAQ,CAAC5C,OAAO,EAAEC,OAAO,EAAEC,IAAI,CAAC;MAC5C,IAAI,OAAO,IAAI,CAACsD,KAAK,KAAK,UAAU,EAAE;QACpC,IAAI,CAACA,KAAK,CAAC,MAAM,GAAGQ,GAAG,CAAC;MAC1B;MACA,OAAO,IAAI,EAAE;QACX,IAAIA,GAAG,CAAChD,MAAM,GAAG,IAAI,CAACsC,qBAAqB,EAAE;UAC3C,IAAI,CAACP,EAAE,CAACkB,IAAI,CAACD,GAAG,CAAC/B,SAAS,CAAC,CAAC,EAAE,IAAI,CAACqB,qBAAqB,CAAC,CAAC;UAC1DU,GAAG,GAAGA,GAAG,CAAC/B,SAAS,CAAC,IAAI,CAACqB,qBAAqB,CAAC;UAC/C,IAAI,OAAO,IAAI,CAACE,KAAK,KAAK,UAAU,EAAE;YACpC,IAAI,CAACA,KAAK,CAAC,cAAc,GAAGQ,GAAG,CAAChD,MAAM,CAAC;UACzC;QACF,CAAC,MAAM;UACL,OAAO,IAAI,CAAC+B,EAAE,CAACkB,IAAI,CAACD,GAAG,CAAC;QAC1B;MACF;IACF,CAAC;IAED1E,MAAM,CAACa,SAAS,CAAC+D,eAAe,GAAG,UAASjE,OAAO,EAAE;MACnD,IAAIkE,cAAc,EAAEC,cAAc,EAAEC,GAAG,EAAEC,CAAC,EAAE9D,IAAI,EAAEsB,KAAK;MACvD,IAAI,CAACtB,IAAI,GAAGP,OAAO,CAACsE,OAAO,MAAM/E,KAAK,CAACgF,QAAQ,CAACC,IAAI,IAAIjE,IAAI,KAAKhB,KAAK,CAACgF,QAAQ,CAACE,IAAI,EAAE;QACpF;MACF;MACA5C,KAAK,GAAI,YAAW;QAClB,IAAIH,EAAE,EAAEE,IAAI,EAAEC,KAAK,EAAEa,QAAQ;QAC7Bb,KAAK,GAAG7B,OAAO,CAAC,YAAY,CAAC,CAACc,KAAK,CAAC,GAAG,CAAC;QACxC4B,QAAQ,GAAG,EAAE;QACb,KAAKhB,EAAE,GAAG,CAAC,EAAEE,IAAI,GAAGC,KAAK,CAACd,MAAM,EAAEW,EAAE,GAAGE,IAAI,EAAEF,EAAE,EAAE,EAAE;UACjD2C,CAAC,GAAGxC,KAAK,CAACH,EAAE,CAAC;UACbgB,QAAQ,CAACjC,IAAI,CAAC6B,QAAQ,CAAC+B,CAAC,CAAC,CAAC;QAC5B;QACA,OAAO3B,QAAQ;MACjB,CAAC,CAAE,CAAC,EAAEyB,cAAc,GAAGtC,KAAK,CAAC,CAAC,CAAC,EAAEqC,cAAc,GAAGrC,KAAK,CAAC,CAAC,CAAC;MAC1D,IAAI,EAAE,IAAI,CAACqB,SAAS,CAACC,QAAQ,KAAK,CAAC,IAAIe,cAAc,KAAK,CAAC,CAAC,EAAE;QAC5DE,GAAG,GAAGM,IAAI,CAACC,GAAG,CAAC,IAAI,CAACzB,SAAS,CAACC,QAAQ,EAAEe,cAAc,CAAC;QACvD,IAAI,OAAO,IAAI,CAACX,KAAK,KAAK,UAAU,EAAE;UACpC,IAAI,CAACA,KAAK,CAAC,kBAAkB,GAAGa,GAAG,GAAG,IAAI,CAAC;QAC7C;QACA,IAAI,CAACQ,MAAM,GAAGrF,KAAK,CAACsF,WAAW,CAACT,GAAG,EAAG,UAASU,KAAK,EAAE;UACpD,OAAO,YAAW;YAChBA,KAAK,CAAChC,EAAE,CAACkB,IAAI,CAAC5E,IAAI,CAACQ,EAAE,CAAC;YACtB,OAAO,OAAOkF,KAAK,CAACvB,KAAK,KAAK,UAAU,GAAGuB,KAAK,CAACvB,KAAK,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;UAC7E,CAAC;QACH,CAAC,CAAE,IAAI,CAAC,CAAC;MACX;MACA,IAAI,EAAE,IAAI,CAACL,SAAS,CAACE,QAAQ,KAAK,CAAC,IAAIe,cAAc,KAAK,CAAC,CAAC,EAAE;QAC5DC,GAAG,GAAGM,IAAI,CAACC,GAAG,CAAC,IAAI,CAACzB,SAAS,CAACE,QAAQ,EAAEe,cAAc,CAAC;QACvD,IAAI,OAAO,IAAI,CAACZ,KAAK,KAAK,UAAU,EAAE;UACpC,IAAI,CAACA,KAAK,CAAC,mBAAmB,GAAGa,GAAG,GAAG,IAAI,CAAC;QAC9C;QACA,OAAO,IAAI,CAACW,MAAM,GAAGxF,KAAK,CAACsF,WAAW,CAACT,GAAG,EAAG,UAASU,KAAK,EAAE;UAC3D,OAAO,YAAW;YAChB,IAAIE,KAAK;YACTA,KAAK,GAAGnC,GAAG,CAAC,CAAC,GAAGiC,KAAK,CAACG,cAAc;YACpC,IAAID,KAAK,GAAGZ,GAAG,GAAG,CAAC,EAAE;cACnB,IAAI,OAAOU,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;gBACrCuB,KAAK,CAACvB,KAAK,CAAC,+CAA+C,GAAGyB,KAAK,GAAG,IAAI,CAAC;cAC7E;cACA,OAAOF,KAAK,CAAChC,EAAE,CAACoC,KAAK,CAAC,CAAC;YACzB;UACF,CAAC;QACH,CAAC,CAAE,IAAI,CAAC,CAAC;MACX;IACF,CAAC;IAED7F,MAAM,CAACa,SAAS,CAACiF,aAAa,GAAG,YAAW;MAC1C,IAAIC,IAAI,EAAEC,eAAe,EAAEC,aAAa,EAAEtF,OAAO;MACjDoF,IAAI,GAAG,CAAC,IAAIG,SAAS,CAACxE,MAAM,GAAGrB,OAAO,CAACc,IAAI,CAAC+E,SAAS,EAAE,CAAC,CAAC,GAAG,EAAE;MAC9DvF,OAAO,GAAG,CAAC,CAAC;MACZ,QAAQoF,IAAI,CAACrE,MAAM;QACjB,KAAK,CAAC;UACJf,OAAO,GAAGoF,IAAI,CAAC,CAAC,CAAC,EAAEC,eAAe,GAAGD,IAAI,CAAC,CAAC,CAAC;UAC5C;QACF,KAAK,CAAC;UACJ,IAAIA,IAAI,CAAC,CAAC,CAAC,YAAYI,QAAQ,EAAE;YAC/BxF,OAAO,GAAGoF,IAAI,CAAC,CAAC,CAAC,EAAEC,eAAe,GAAGD,IAAI,CAAC,CAAC,CAAC,EAAEE,aAAa,GAAGF,IAAI,CAAC,CAAC,CAAC;UACvE,CAAC,MAAM;YACLpF,OAAO,CAACyF,KAAK,GAAGL,IAAI,CAAC,CAAC,CAAC,EAAEpF,OAAO,CAAC0F,QAAQ,GAAGN,IAAI,CAAC,CAAC,CAAC,EAAEC,eAAe,GAAGD,IAAI,CAAC,CAAC,CAAC;UAChF;UACA;QACF,KAAK,CAAC;UACJpF,OAAO,CAACyF,KAAK,GAAGL,IAAI,CAAC,CAAC,CAAC,EAAEpF,OAAO,CAAC0F,QAAQ,GAAGN,IAAI,CAAC,CAAC,CAAC,EAAEC,eAAe,GAAGD,IAAI,CAAC,CAAC,CAAC,EAAEE,aAAa,GAAGF,IAAI,CAAC,CAAC,CAAC;UACvG;QACF;UACEpF,OAAO,CAACyF,KAAK,GAAGL,IAAI,CAAC,CAAC,CAAC,EAAEpF,OAAO,CAAC0F,QAAQ,GAAGN,IAAI,CAAC,CAAC,CAAC,EAAEC,eAAe,GAAGD,IAAI,CAAC,CAAC,CAAC,EAAEE,aAAa,GAAGF,IAAI,CAAC,CAAC,CAAC,EAAEpF,OAAO,CAAC2F,IAAI,GAAGP,IAAI,CAAC,CAAC,CAAC;MACnI;MACA,OAAO,CAACpF,OAAO,EAAEqF,eAAe,EAAEC,aAAa,CAAC;IAClD,CAAC;IAEDjG,MAAM,CAACa,SAAS,CAAC0F,OAAO,GAAG,YAAW;MACpC,IAAIR,IAAI,EAAEE,aAAa,EAAEtF,OAAO,EAAE+D,GAAG;MACrCqB,IAAI,GAAG,CAAC,IAAIG,SAAS,CAACxE,MAAM,GAAGrB,OAAO,CAACc,IAAI,CAAC+E,SAAS,EAAE,CAAC,CAAC,GAAG,EAAE;MAC9DxB,GAAG,GAAG,IAAI,CAACoB,aAAa,CAACU,KAAK,CAAC,IAAI,EAAET,IAAI,CAAC;MAC1CpF,OAAO,GAAG+D,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAACsB,eAAe,GAAGtB,GAAG,CAAC,CAAC,CAAC,EAAEuB,aAAa,GAAGvB,GAAG,CAAC,CAAC,CAAC;MACvE,IAAI,OAAO,IAAI,CAACR,KAAK,KAAK,UAAU,EAAE;QACpC,IAAI,CAACA,KAAK,CAAC,uBAAuB,CAAC;MACrC;MACA,IAAI,CAACT,EAAE,CAACgD,SAAS,GAAI,UAAShB,KAAK,EAAE;QACnC,OAAO,UAASiB,GAAG,EAAE;UACnB,IAAIC,GAAG,EAAEC,CAAC,EAAEC,MAAM,EAAElF,IAAI,EAAE4B,KAAK,EAAEuD,SAAS,EAAEC,SAAS,EAAEC,YAAY,EAAE3E,EAAE,EAAEE,IAAI,EAAErB,IAAI,EAAEmC,QAAQ;UAC7F1B,IAAI,GAAG,OAAOsF,WAAW,KAAK,WAAW,IAAIP,GAAG,CAAC/E,IAAI,YAAYsF,WAAW,IAAIN,GAAG,GAAG,IAAIO,UAAU,CAACR,GAAG,CAAC/E,IAAI,CAAC,EAAE,OAAO8D,KAAK,CAACvB,KAAK,KAAK,UAAU,GAAGuB,KAAK,CAACvB,KAAK,CAAC,uBAAuB,GAAGyC,GAAG,CAACjF,MAAM,CAAC,GAAG,KAAK,CAAC,EAAI,YAAW;YAC3N,IAAIW,EAAE,EAAEE,IAAI,EAAEc,QAAQ;YACtBA,QAAQ,GAAG,EAAE;YACb,KAAKhB,EAAE,GAAG,CAAC,EAAEE,IAAI,GAAGoE,GAAG,CAACjF,MAAM,EAAEW,EAAE,GAAGE,IAAI,EAAEF,EAAE,EAAE,EAAE;cAC/CuE,CAAC,GAAGD,GAAG,CAACtE,EAAE,CAAC;cACXgB,QAAQ,CAACjC,IAAI,CAAC+F,MAAM,CAACC,YAAY,CAACR,CAAC,CAAC,CAAC;YACvC;YACA,OAAOvD,QAAQ;UACjB,CAAC,CAAE,CAAC,CAAE/B,IAAI,CAAC,EAAE,CAAC,IAAIoF,GAAG,CAAC/E,IAAI;UAC1B8D,KAAK,CAACG,cAAc,GAAGpC,GAAG,CAAC,CAAC;UAC5B,IAAI7B,IAAI,KAAK5B,IAAI,CAACQ,EAAE,EAAE;YACpB,IAAI,OAAOkF,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;cACrCuB,KAAK,CAACvB,KAAK,CAAC,UAAU,CAAC;YACzB;YACA;UACF;UACA,IAAI,OAAOuB,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;YACrCuB,KAAK,CAACvB,KAAK,CAAC,MAAM,GAAGvC,IAAI,CAAC;UAC5B;UACAT,IAAI,GAAGjB,KAAK,CAACkD,UAAU,CAACxB,IAAI,CAAC;UAC7B0B,QAAQ,GAAG,EAAE;UACb,KAAKhB,EAAE,GAAG,CAAC,EAAEE,IAAI,GAAGrB,IAAI,CAACQ,MAAM,EAAEW,EAAE,GAAGE,IAAI,EAAEF,EAAE,EAAE,EAAE;YAChDkB,KAAK,GAAGrC,IAAI,CAACmB,EAAE,CAAC;YAChB,QAAQkB,KAAK,CAAC7C,OAAO;cACnB,KAAK,WAAW;gBACd,IAAI,OAAO+E,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;kBACrCuB,KAAK,CAACvB,KAAK,CAAC,sBAAsB,GAAGX,KAAK,CAAC5C,OAAO,CAAC0G,MAAM,CAAC;gBAC5D;gBACA5B,KAAK,CAAC7B,SAAS,GAAG,IAAI;gBACtB6B,KAAK,CAACb,eAAe,CAACrB,KAAK,CAAC5C,OAAO,CAAC;gBACpC0C,QAAQ,CAACjC,IAAI,CAAC,OAAOqE,KAAK,CAACO,eAAe,KAAK,UAAU,GAAGP,KAAK,CAACO,eAAe,CAACzC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;gBAClG;cACF,KAAK,SAAS;gBACZyD,YAAY,GAAGzD,KAAK,CAAC5C,OAAO,CAACqG,YAAY;gBACzCD,SAAS,GAAGtB,KAAK,CAACxB,aAAa,CAAC+C,YAAY,CAAC,IAAIvB,KAAK,CAACsB,SAAS;gBAChE,IAAIA,SAAS,EAAE;kBACbF,MAAM,GAAGpB,KAAK;kBACdqB,SAAS,GAAGvD,KAAK,CAAC5C,OAAO,CAAC,YAAY,CAAC;kBACvC4C,KAAK,CAAC+D,GAAG,GAAG,UAAS3G,OAAO,EAAE;oBAC5B,IAAIA,OAAO,IAAI,IAAI,EAAE;sBACnBA,OAAO,GAAG,CAAC,CAAC;oBACd;oBACA,OAAOkG,MAAM,CAACS,GAAG,CAACR,SAAS,EAAEE,YAAY,EAAErG,OAAO,CAAC;kBACrD,CAAC;kBACD4C,KAAK,CAACgE,IAAI,GAAG,UAAS5G,OAAO,EAAE;oBAC7B,IAAIA,OAAO,IAAI,IAAI,EAAE;sBACnBA,OAAO,GAAG,CAAC,CAAC;oBACd;oBACA,OAAOkG,MAAM,CAACU,IAAI,CAACT,SAAS,EAAEE,YAAY,EAAErG,OAAO,CAAC;kBACtD,CAAC;kBACD0C,QAAQ,CAACjC,IAAI,CAAC2F,SAAS,CAACxD,KAAK,CAAC,CAAC;gBACjC,CAAC,MAAM;kBACLF,QAAQ,CAACjC,IAAI,CAAC,OAAOqE,KAAK,CAACvB,KAAK,KAAK,UAAU,GAAGuB,KAAK,CAACvB,KAAK,CAAC,8BAA8B,GAAGX,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;gBACjH;gBACA;cACF,KAAK,SAAS;gBACZF,QAAQ,CAACjC,IAAI,CAAC,OAAOqE,KAAK,CAAC+B,SAAS,KAAK,UAAU,GAAG/B,KAAK,CAAC+B,SAAS,CAACjE,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;gBACtF;cACF,KAAK,OAAO;gBACVF,QAAQ,CAACjC,IAAI,CAAC,OAAO6E,aAAa,KAAK,UAAU,GAAGA,aAAa,CAAC1C,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;gBAClF;cACF;gBACEF,QAAQ,CAACjC,IAAI,CAAC,OAAOqE,KAAK,CAACvB,KAAK,KAAK,UAAU,GAAGuB,KAAK,CAACvB,KAAK,CAAC,mBAAmB,GAAGX,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;YACxG;UACF;UACA,OAAOF,QAAQ;QACjB,CAAC;MACH,CAAC,CAAE,IAAI,CAAC;MACR,IAAI,CAACI,EAAE,CAACgE,OAAO,GAAI,UAAShC,KAAK,EAAE;QACjC,OAAO,YAAW;UAChB,IAAIiC,GAAG;UACPA,GAAG,GAAG,6BAA6B,GAAGjC,KAAK,CAAChC,EAAE,CAACkE,GAAG;UAClD,IAAI,OAAOlC,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;YACrCuB,KAAK,CAACvB,KAAK,CAACwD,GAAG,CAAC;UAClB;UACAjC,KAAK,CAACmC,QAAQ,CAAC,CAAC;UAChB,OAAO,OAAO3B,aAAa,KAAK,UAAU,GAAGA,aAAa,CAACyB,GAAG,CAAC,GAAG,KAAK,CAAC;QAC1E,CAAC;MACH,CAAC,CAAE,IAAI,CAAC;MACR,OAAO,IAAI,CAACjE,EAAE,CAACoE,MAAM,GAAI,UAASpC,KAAK,EAAE;QACvC,OAAO,YAAW;UAChB,IAAI,OAAOA,KAAK,CAACvB,KAAK,KAAK,UAAU,EAAE;YACrCuB,KAAK,CAACvB,KAAK,CAAC,sBAAsB,CAAC;UACrC;UACAvD,OAAO,CAAC,gBAAgB,CAAC,GAAGT,KAAK,CAACgF,QAAQ,CAAC4C,iBAAiB,CAAC,CAAC;UAC9DnH,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC8E,KAAK,CAAC5B,SAAS,CAACC,QAAQ,EAAE2B,KAAK,CAAC5B,SAAS,CAACE,QAAQ,CAAC,CAACzC,IAAI,CAAC,GAAG,CAAC;UACtF,OAAOmE,KAAK,CAAChB,SAAS,CAAC,SAAS,EAAE9D,OAAO,CAAC;QAC5C,CAAC;MACH,CAAC,CAAE,IAAI,CAAC;IACV,CAAC;IAEDX,MAAM,CAACa,SAAS,CAACkH,UAAU,GAAG,UAASC,kBAAkB,EAAE;MACzD,IAAI,CAACvD,SAAS,CAAC,YAAY,CAAC;MAC5B,IAAI,CAAChB,EAAE,CAACgE,OAAO,GAAG,IAAI;MACtB,IAAI,CAAChE,EAAE,CAACoC,KAAK,CAAC,CAAC;MACf,IAAI,CAAC+B,QAAQ,CAAC,CAAC;MACf,OAAO,OAAOI,kBAAkB,KAAK,UAAU,GAAGA,kBAAkB,CAAC,CAAC,GAAG,KAAK,CAAC;IACjF,CAAC;IAEDhI,MAAM,CAACa,SAAS,CAAC+G,QAAQ,GAAG,YAAW;MACrC,IAAI,CAAChE,SAAS,GAAG,KAAK;MACtB,IAAI,IAAI,CAAC2B,MAAM,EAAE;QACfrF,KAAK,CAAC+H,aAAa,CAAC,IAAI,CAAC1C,MAAM,CAAC;MAClC;MACA,IAAI,IAAI,CAACG,MAAM,EAAE;QACf,OAAOxF,KAAK,CAAC+H,aAAa,CAAC,IAAI,CAACvC,MAAM,CAAC;MACzC;IACF,CAAC;IAED1F,MAAM,CAACa,SAAS,CAAC8D,IAAI,GAAG,UAASuD,WAAW,EAAEvH,OAAO,EAAEC,IAAI,EAAE;MAC3D,IAAID,OAAO,IAAI,IAAI,EAAE;QACnBA,OAAO,GAAG,CAAC,CAAC;MACd;MACA,IAAIC,IAAI,IAAI,IAAI,EAAE;QAChBA,IAAI,GAAG,EAAE;MACX;MACAD,OAAO,CAACuH,WAAW,GAAGA,WAAW;MACjC,OAAO,IAAI,CAACzD,SAAS,CAAC,MAAM,EAAE9D,OAAO,EAAEC,IAAI,CAAC;IAC9C,CAAC;IAEDZ,MAAM,CAACa,SAAS,CAACsH,SAAS,GAAG,UAASD,WAAW,EAAEE,QAAQ,EAAEzH,OAAO,EAAE;MACpE,IAAIkG,MAAM;MACV,IAAIlG,OAAO,IAAI,IAAI,EAAE;QACnBA,OAAO,GAAG,CAAC,CAAC;MACd;MACA,IAAI,CAACA,OAAO,CAAC0H,EAAE,EAAE;QACf1H,OAAO,CAAC0H,EAAE,GAAG,MAAM,GAAG,IAAI,CAAC1E,OAAO,EAAE;MACtC;MACAhD,OAAO,CAACuH,WAAW,GAAGA,WAAW;MACjC,IAAI,CAACjE,aAAa,CAACtD,OAAO,CAAC0H,EAAE,CAAC,GAAGD,QAAQ;MACzC,IAAI,CAAC3D,SAAS,CAAC,WAAW,EAAE9D,OAAO,CAAC;MACpCkG,MAAM,GAAG,IAAI;MACb,OAAO;QACLwB,EAAE,EAAE1H,OAAO,CAAC0H,EAAE;QACdC,WAAW,EAAE,SAAAA,CAAA,EAAW;UACtB,OAAOzB,MAAM,CAACyB,WAAW,CAAC3H,OAAO,CAAC0H,EAAE,CAAC;QACvC;MACF,CAAC;IACH,CAAC;IAEDrI,MAAM,CAACa,SAAS,CAACyH,WAAW,GAAG,UAASD,EAAE,EAAE;MAC1C,OAAO,IAAI,CAACpE,aAAa,CAACoE,EAAE,CAAC;MAC7B,OAAO,IAAI,CAAC5D,SAAS,CAAC,aAAa,EAAE;QACnC4D,EAAE,EAAEA;MACN,CAAC,CAAC;IACJ,CAAC;IAEDrI,MAAM,CAACa,SAAS,CAAC0H,KAAK,GAAG,UAASC,WAAW,EAAE;MAC7C,IAAI3B,MAAM,EAAE4B,IAAI;MAChBA,IAAI,GAAGD,WAAW,IAAI,KAAK,GAAG,IAAI,CAAC7E,OAAO,EAAE;MAC5C,IAAI,CAACc,SAAS,CAAC,OAAO,EAAE;QACtB+D,WAAW,EAAEC;MACf,CAAC,CAAC;MACF5B,MAAM,GAAG,IAAI;MACb,OAAO;QACLwB,EAAE,EAAEI,IAAI;QACRC,MAAM,EAAE,SAAAA,CAAA,EAAW;UACjB,OAAO7B,MAAM,CAAC6B,MAAM,CAACD,IAAI,CAAC;QAC5B,CAAC;QACDE,KAAK,EAAE,SAAAA,CAAA,EAAW;UAChB,OAAO9B,MAAM,CAAC8B,KAAK,CAACF,IAAI,CAAC;QAC3B;MACF,CAAC;IACH,CAAC;IAEDzI,MAAM,CAACa,SAAS,CAAC6H,MAAM,GAAG,UAASF,WAAW,EAAE;MAC9C,OAAO,IAAI,CAAC/D,SAAS,CAAC,QAAQ,EAAE;QAC9B+D,WAAW,EAAEA;MACf,CAAC,CAAC;IACJ,CAAC;IAEDxI,MAAM,CAACa,SAAS,CAAC8H,KAAK,GAAG,UAASH,WAAW,EAAE;MAC7C,OAAO,IAAI,CAAC/D,SAAS,CAAC,OAAO,EAAE;QAC7B+D,WAAW,EAAEA;MACf,CAAC,CAAC;IACJ,CAAC;IAEDxI,MAAM,CAACa,SAAS,CAACyG,GAAG,GAAG,UAASR,SAAS,EAAEE,YAAY,EAAErG,OAAO,EAAE;MAChE,IAAIA,OAAO,IAAI,IAAI,EAAE;QACnBA,OAAO,GAAG,CAAC,CAAC;MACd;MACAA,OAAO,CAAC,YAAY,CAAC,GAAGmG,SAAS;MACjCnG,OAAO,CAACqG,YAAY,GAAGA,YAAY;MACnC,OAAO,IAAI,CAACvC,SAAS,CAAC,KAAK,EAAE9D,OAAO,CAAC;IACvC,CAAC;IAEDX,MAAM,CAACa,SAAS,CAAC0G,IAAI,GAAG,UAAST,SAAS,EAAEE,YAAY,EAAErG,OAAO,EAAE;MACjE,IAAIA,OAAO,IAAI,IAAI,EAAE;QACnBA,OAAO,GAAG,CAAC,CAAC;MACd;MACAA,OAAO,CAAC,YAAY,CAAC,GAAGmG,SAAS;MACjCnG,OAAO,CAACqG,YAAY,GAAGA,YAAY;MACnC,OAAO,IAAI,CAACvC,SAAS,CAAC,MAAM,EAAE9D,OAAO,CAAC;IACxC,CAAC;IAED,OAAOX,MAAM;EAEf,CAAC,CAAE,CAAC;EAEJE,KAAK,GAAG;IACNgF,QAAQ,EAAE;MACR0D,IAAI,EAAE,KAAK;MACXzD,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,KAAK;MACX0C,iBAAiB,EAAE,SAAAA,CAAA,EAAW;QAC5B,OAAO,SAAS;MAClB;IACF,CAAC;IACDjB,MAAM,EAAE,SAAAA,CAASc,GAAG,EAAEkB,SAAS,EAAE;MAC/B,IAAIC,KAAK,EAAErF,EAAE;MACb,IAAIoF,SAAS,IAAI,IAAI,EAAE;QACrBA,SAAS,GAAG,CAAC,WAAW,EAAE,WAAW,CAAC;MACxC;MACAC,KAAK,GAAG5I,KAAK,CAAC6I,cAAc,IAAIC,SAAS;MACzCvF,EAAE,GAAG,IAAIqF,KAAK,CAACnB,GAAG,EAAEkB,SAAS,CAAC;MAC9B,OAAO,IAAI7I,MAAM,CAACyD,EAAE,CAAC;IACvB,CAAC;IACDwF,IAAI,EAAE,SAAAA,CAASxF,EAAE,EAAE;MACjB,OAAO,IAAIzD,MAAM,CAACyD,EAAE,CAAC;IACvB,CAAC;IACDxD,KAAK,EAAEA;EACT,CAAC;EAED,IAAI,OAAOmE,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,IAAI,EAAE;IACpDlE,KAAK,CAACsF,WAAW,GAAG,UAAS0D,QAAQ,EAAEC,CAAC,EAAE;MACxC,OAAO/E,MAAM,CAACoB,WAAW,CAAC2D,CAAC,EAAED,QAAQ,CAAC;IACxC,CAAC;IACDhJ,KAAK,CAAC+H,aAAa,GAAG,UAASI,EAAE,EAAE;MACjC,OAAOjE,MAAM,CAAC6D,aAAa,CAACI,EAAE,CAAC;IACjC,CAAC;IACDjE,MAAM,CAAClE,KAAK,GAAGA,KAAK;EACtB,CAAC,MAAM,IAAI,OAAOkJ,OAAO,KAAK,WAAW,IAAIA,OAAO,KAAK,IAAI,EAAE;IAC7DA,OAAO,CAAClJ,KAAK,GAAGA,KAAK;EACvB,CAAC,MAAM;IACLmJ,IAAI,CAACnJ,KAAK,GAAGA,KAAK;EACpB;AAEF,CAAC,EAAEiB,IAAI,CAAC,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\IUA2\\\\my-app\\\\src\\\\preTimeTable.js\",\n  _s2 = $RefreshSig$();\nimport './preTimeTable.css';\nimport React from 'react';\nimport { BrowserRouter as Router, Link } from 'react-router-dom'; //BrowserRouter\nimport { Routes, Route } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from \"react\";\nimport { useCookies } from 'react-cookie';\nimport { onLogin } from \"./cookie.js\";\nimport { setAuthToken } from \"./utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PreTimeTable = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  let navigate = useNavigate();\n  const [cookies, setCookie] = useCookies(['token']);\n  const [error, setError] = useState(false);\n  function PreTimeTable() {\n    _s();\n    const [searchTerm, setSearchTerm] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const handleSearch = e => {\n      e.preventDefault();\n      //alert(`The name you entered was: ${student_id}`);\n      setWaiting(true);\n      const formData = {\n        studentID: student_id,\n        password: password\n      };\n      fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      }).then(response => {\n        console.log(response.status);\n        if (response.status == 200) {\n          navigate(\"/homePage\");\n        } else if (response.status == 400) {\n          alert(\"輸入錯誤\");\n          setError(true);\n        } else if (response.status == 201) {\n          navigate('/nickName', {\n            state: {\n              studentID: student_id\n            }\n          });\n        }\n        console.log(response);\n        return response.json();\n      }).then(data => {\n        onLogin(student_id);\n        console.log(data.token); //token\n        setAuthToken(data.token);\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PreTimeTable\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u8F93\\u5165\\u5173\\u952E\\u5B57\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this);\n  }\n  _s(PreTimeTable, \"brRzk7tj+pGuNPv2srA2r/nQjm0=\");\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(PreTimeTable, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 46\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 17\n  }, this);\n};\n_s2(PreTimeTable, \"M+mzBxaTnFAhrJiAjRqyjFp9CkU=\", false, function () {\n  return [useNavigate, useCookies];\n});\n_c = PreTimeTable;\nexport default PreTimeTable;\nvar _c;\n$RefreshReg$(_c, \"PreTimeTable\");","map":{"version":3,"names":["React","BrowserRouter","Router","Link","Routes","Route","useNavigate","useState","useCookies","onLogin","setAuthToken","jsxDEV","_jsxDEV","PreTimeTable","_s2","_s","$RefreshSig$","navigate","cookies","setCookie","error","setError","searchTerm","setSearchTerm","searchResults","setSearchResults","handleSearch","e","preventDefault","setWaiting","formData","studentID","student_id","password","fetch","method","headers","body","JSON","stringify","then","response","console","log","status","alert","state","json","data","token","catch","className","children","type","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["C:/IUA2/my-app/src/preTimeTable.js"],"sourcesContent":["import './preTimeTable.css';\r\nimport React from 'react';\r\nimport { BrowserRouter as Router,Link } from 'react-router-dom';//BrowserRouter\r\nimport { Routes ,Route } from 'react-router-dom';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {useState} from \"react\";\r\nimport { useCookies } from 'react-cookie';\r\nimport { onLogin } from \"./cookie.js\";\r\nimport { setAuthToken } from \"./utils\";\r\n\r\nconst PreTimeTable=()=> {\r\n\r\n    let navigate = useNavigate();\r\n    const [cookies, setCookie] = useCookies(['token']);\r\n    const [error, setError] = useState(false);\r\n\r\n    function PreTimeTable() {\r\n        const [searchTerm, setSearchTerm] = useState('');\r\n        const [searchResults, setSearchResults] = useState([]);\r\n      const handleSearch = (e) => {\r\n        e.preventDefault();\r\n        //alert(`The name you entered was: ${student_id}`);\r\n        setWaiting(true);\r\n        const formData = {\r\n                        studentID: student_id,\r\n                        password: password,\r\n                      };\r\n                      fetch('/login', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                              'Content-Type': 'application/json'\r\n                            },\r\n                            body: JSON.stringify(formData)\r\n                          })\r\n                          .then(response => {\r\n                            console.log(response.status);\r\n                            if(response.status==200){\r\n                              navigate(\"/homePage\");\r\n                            }\r\n                            else if(response.status==400){\r\n                              alert(\"輸入錯誤\");\r\n                              setError(true);\r\n                            }\r\n                            else if(response.status==201){\r\n                              navigate('/nickName', {\r\n                                state: {\r\n                                  studentID: student_id,\r\n                                }\r\n                              });\r\n                            }\r\n                            console.log(response);\r\n                            return response.json();\r\n                          })\r\n                          .then(data => {\r\n                            onLogin(student_id);\r\n                            console.log(data.token);//token\r\n                            setAuthToken(data.token);\r\n                          })\r\n                          .catch(error => {\r\n                            console.error(error);\r\n                          });\r\n        \r\n         \r\n      }\r\n      return (\r\n        \r\n        <div className=\"PreTimeTable\">    \r\n            <input type=\"text\" placeholder=\"输入关键字\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}/>\r\n\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n\r\n           \r\n                <Routes>\r\n                    <Route path=\"/\" element={<PreTimeTable />} />\r\n                </Routes>\r\n             \r\n    );\r\n}\r\n\r\nexport default PreTimeTable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}